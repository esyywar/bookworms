(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{112:function(e,t,a){},116:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),l=a(27),c=a.n(l),o=a(7),s=a(10),u=a.n(s),i=a(14),m=a(13),p=a.n(m),E=a(119),d=function(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:5e3;return function(n){var r=Object(E.a)();n({type:"SET_ALERT",payload:{id:r,msg:e,type:t}}),setTimeout((function(){return n({type:"RESET_ALERT",payload:{id:r}})}),a)}};var b=function(){return function(){var e=Object(i.a)(u.a.mark((function e(t){var a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return localStorage.token&&((n=localStorage.token)?p.a.defaults.headers.common["x-auth-token"]=n:delete p.a.defaults.headers.common["x-auth-token"]),e.prev=1,e.next=4,p.a.get("/api/auth");case 4:a=e.sent,t({type:"USER_LOADED",payload:a.data}),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),t({type:"AUTH_ERROR"});case 11:case"end":return e.stop()}var n}),e,null,[[1,8]])})));return function(t){return e.apply(this,arguments)}}()},f=function(e){var t=e.email,a=e.password;return function(){var e=Object(i.a)(u.a.mark((function e(n){var r,l,c;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r={headers:{"Content-type":"application/json"}},l=JSON.stringify({email:t,password:a}),e.prev=2,e.next=5,p.a.post("/api/auth",l,r);case 5:c=e.sent,n({type:"LOGIN_SUCCESS",payload:c.data}),n(b()),e.next=16;break;case 10:e.prev=10,e.t0=e.catch(2),n({type:"LOGIN_FAILED"}),e.t0.response.data.errors.forEach((function(e){return n(d(e.msg,"danger"))})),console.log(e.t0.message);case 16:case"end":return e.stop()}}),e,null,[[2,10]])})));return function(t){return e.apply(this,arguments)}}()},h=a(12),v=a(15),y=a(82);var g=function(e){var t=e.children,a=Object(y.a)(e,["children"]),n=Object(o.c)((function(e){return e.authUser}));return r.a.createElement(v.b,Object.assign({},a,{render:function(e){return n.isAuthenticated&&!n.loading?t:r.a.createElement(v.a,{to:"/login"})}}))},O=a(8),j=a(62),x=a(25),T=a(37);a(112);function k(){var e=Object(o.c)((function(e){return e.authUser})),t=Object(o.b)(),a=r.a.createElement(x.a,{className:"ml-auto"},r.a.createElement(x.a.Link,null,r.a.createElement(h.b,{className:"nav-link-item",to:"/"},"Home")),r.a.createElement(x.a.Link,null,r.a.createElement(h.b,{className:"nav-link-item",to:"/posts"},"Posts")),r.a.createElement(x.a.Link,null,r.a.createElement(h.b,{className:"nav-link-item",to:"/profiles"},"Profiles")),r.a.createElement(x.a.Link,null,r.a.createElement(h.b,{className:"nav-link-item",to:"/login"},"Log In"))),n=r.a.createElement(x.a,{className:"ml-auto"},r.a.createElement(x.a.Link,null,r.a.createElement(h.b,{className:"nav-link-item",to:"/dashboard"},"Dashboard")),r.a.createElement(x.a.Link,null,r.a.createElement(h.b,{className:"nav-link-item",to:"/posts"},"Posts")),r.a.createElement(x.a.Link,null,r.a.createElement(h.b,{className:"nav-link-item",to:"/profiles"},"Profiles")),r.a.createElement(x.a.Link,null,r.a.createElement(h.b,{className:"nav-link-item",onClick:function(){return t((function(e){e({type:"LOGOUT_USER"}),e({type:"CLEAR_PROFILE"})}))}},r.a.createElement("span",null,r.a.createElement(T.a,{icon:"sign-out-alt"})," Log Out"))));return r.a.createElement("nav",null,r.a.createElement(j.a,{bg:"dark",variant:"dark"},r.a.createElement(j.a.Brand,{href:"/"},"Navbar"),function(e){if(!e.loading)return e.isAuthenticated?n:a}(e)),r.a.createElement("br",null))}function C(){return r.a.createElement(O.a,{fluid:!0,className:"text-center"},r.a.createElement("h3",null,"Welcome to Bookworms!"))}var L=function(){return function(){var e=Object(i.a)(u.a.mark((function e(t){var a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,p.a.get("api/profile/me");case 3:a=e.sent,t({type:"GET_PROFILE",payload:a.data}),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),t({type:"PROFILE_ERROR",payload:{msg:e.t0.response.statusText,status:e.t0.response.status}});case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}()},w=function(e,t){var a=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return function(){var n=Object(i.a)(u.a.mark((function n(r){var l,c,o;return u.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,l={headers:{"Content-Type":"application/json"}},n.next=4,p.a.post("/api/profile",e,l);case 4:c=n.sent,r({type:"CREATE_PROFILE",payload:c.data}),r(d(a?"Profile updated!":"Profile created!","success")),a||t.push("/dashboard"),n.next=16;break;case 11:n.prev=11,n.t0=n.catch(0),r({type:"PROFILE_ERROR",payload:{msg:n.t0.response.statusText,status:n.t0.response.status}}),(o=n.t0.response.data.errors)&&o.forEach((function(e){return r(d(e.msg,"danger"))}));case 16:case"end":return n.stop()}}),n,null,[[0,11]])})));return function(e){return n.apply(this,arguments)}}()},R=a(19),I=a(11),P=a(75),S=a(40);var _=function(e){return r.a.createElement(O.a,{className:"m-4"},r.a.createElement(R.a,{style:{width:"18rem"}},r.a.createElement(R.a.Img,{variant:"top",src:e.profile.user.avatar}),r.a.createElement(R.a.Body,null,r.a.createElement(R.a.Title,null,e.profile.user.name),r.a.createElement(R.a.Text,null,e.profile.bio)),r.a.createElement(h.b,{to:"/user-profile/".concat(e.profile.user._id)},r.a.createElement(I.a,{variant:"primary"},"View Profile")),r.a.createElement(P.a,{className:"list-group-flush"},r.a.createElement(S.a,null,e.profile.status),r.a.createElement(S.a,null,e.profile.language))))},N=a(76);var A=function(){return r.a.createElement(N.a,{animation:"border",role:"status"},r.a.createElement("span",{className:"sr-only"},"Loading..."))};var G=function(){var e=Object(o.b)();Object(n.useEffect)((function(){e(function(){var e=Object(i.a)(u.a.mark((function e(t){var a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t({type:"CLEAR_PROFILE"}),e.next=4,p.a.get("/api/profile");case 4:a=e.sent,t({type:"GET_ALL_PROFILES",payload:a.data}),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),t({type:"PROFILE_ERROR",payload:{msg:e.t0.response.statusText,status:e.t0.response.status}});case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}())}),[e]);var t=Object(o.c)((function(e){return e.profile}));return r.a.createElement(O.a,null,t.profiles===[]||t.loading?r.a.createElement(A,null):t.profiles.length>0?t.profiles.map((function(e,t){return r.a.createElement(_,{key:t,profile:e})})):r.a.createElement("h4",null,"No profiles found :("))};var D=function(e){var t=e.profile,a=t.user,n=t.name,l=t.status,c=t.bio,o=t.location;return r.a.createElement(O.a,{fluid:!0,className:"text-center",style:{backgroundColor:"lightblue"}},a&&r.a.createElement("img",{src:a.avatar,alt:"profile-pic"}),r.a.createElement("h3",null,n),r.a.createElement("h4",null,l),r.a.createElement("h4",null,c),r.a.createElement("h4",null,o))},U=a(41),F=a(42);var Y=function(e){var t=e.profile,a=t.favBooks,n=t.favAuthors,l=a&&a.length>0&&a.slice(0,3),c=n&&n.length>0&&n.slice(0,3);return r.a.createElement(O.a,{fluid:!0,className:"text-center"},r.a.createElement(U.a,{className:"m-4"},r.a.createElement(F.a,null,r.a.createElement("h4",null,"Favourite Books"),l?l.map((function(e,t){return r.a.createElement("p",{key:t},e)})):r.a.createElement("p",null,"No favourite books added yet!")),r.a.createElement(F.a,{className:"m-4"},r.a.createElement("h4",null,"Favourite Authors"),c?c.map((function(e,t){return r.a.createElement("p",{key:t},e)})):r.a.createElement("p",null,"No favourite authors added yet!"))))};var B=function(e){var t=e.social;return r.a.createElement(n.Fragment,null,t&&r.a.createElement(O.a,null,t.youtube&&r.a.createElement("h3",null,t.youtube),t.twitter&&r.a.createElement("h3",null,t.twitter),t.linkedin&&r.a.createElement("h3",null,t.linkedin),t.linkedin&&r.a.createElement("h3",null,t.instagram)))},M=a(77);var W=function(e){var t=e.showDel,a=void 0!==t&&t,n=Object(o.b)(),l=Object(o.c)((function(e){return e.profile.library}));return r.a.createElement(O.a,{className:"mt-5"},r.a.createElement(M.a,{striped:!0,bordered:!0,hover:!0},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"Title"),r.a.createElement("th",null,"Author"),r.a.createElement("th",null,"Year"),r.a.createElement("th",null,"Rating (1 - 10)"),a&&r.a.createElement("th",null))),r.a.createElement("tbody",null,l.map((function(e,t){return r.a.createElement("tr",{key:t},r.a.createElement("td",null,e.title),r.a.createElement("td",null,e.author),r.a.createElement("td",null,e.year),r.a.createElement("td",null,e.rating),a&&r.a.createElement("td",null,r.a.createElement(I.a,{variant:"danger",onClick:function(){return n((t=e._id,function(){var e=Object(i.a)(u.a.mark((function e(a){var n,r;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,p.a.delete("/api/profile/library/".concat(t));case 3:n=e.sent,a({type:"UPDATE_LIBRARY",payload:n.data}),a(d("Book removed from library!","success")),e.next=13;break;case 8:e.prev=8,e.t0=e.catch(0),a({type:"PROFILE_ERROR",payload:{msg:e.t0.response.statusText,status:e.t0.response.status}}),(r=e.t0.response.data.errors)&&(Array.isArray(r)?r.forEach((function(e){return a(d(e.msg,"danger"))})):a(d(r.msg,"danger")));case 13:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}()));var t}},"Delete")))})))))};function q(){var e=Object(o.b)(),t=Object(v.h)();Object(n.useEffect)((function(){var a;e((a=t.id,function(){var e=Object(i.a)(u.a.mark((function e(t){var n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,p.a.get("/api/profile/user/".concat(a));case 3:n=e.sent,t({type:"GET_PROFILE",payload:n.data}),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),t({type:"PROFILE_ERROR",payload:{msg:e.t0.response.statusText,status:e.t0.response.status}});case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}()))}),[e,t.id]);var a=Object(o.c)((function(e){return e.profile}));return r.a.createElement(O.a,{className:"text-center"},null==a.profile||a.loading?r.a.createElement(A,null):r.a.createElement(n.Fragment,null,r.a.createElement(D,{profile:a.profile}),r.a.createElement(Y,{profile:a.profile}),r.a.createElement(B,{social:a.profile.social}),r.a.createElement(W,null)))}var H=a(17),J=a(5),K=a(20),V=a(2);var z=function(){var e=Object(o.b)(),t=Object(v.g)(),a=Object(n.useState)({}),l=Object(K.a)(a,2),c=l[0],s=l[1];function m(e){s(Object(J.a)(Object(J.a)({},c),{},Object(H.a)({},e.target.name,e.target.value)))}return r.a.createElement(O.a,null,r.a.createElement(V.a,{onSubmit:function(a){a.preventDefault(),e(function(e,t){return function(){var a=Object(i.a)(u.a.mark((function a(n){var r,l,c;return u.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return r={headers:{"Content-Type":"application/json"}},a.prev=1,a.next=4,p.a.post("/api/posts",e,r);case 4:l=a.sent,n({type:"ADD_POST",paoload:l.data}),n(d("Your post has been published!","success")),t.push("/dashboard"),a.next=15;break;case 10:a.prev=10,a.t0=a.catch(1),n({type:"POST_ERROR",payload:{msg:a.t0.response.statusText,status:a.t0.response.status}}),(c=a.t0.response.data.errors)&&c.forEach((function(e){return n(d(e.msg,"danger"))}));case 15:case"end":return a.stop()}}),a,null,[[1,10]])})));return function(e){return a.apply(this,arguments)}}()}(c,t))}},r.a.createElement(V.a.Group,{controlId:"PlainText"},r.a.createElement(V.a.Label,null,"Title"),r.a.createElement(V.a.Control,{name:"title",type:"text",placeholder:"Title of your post",value:c.name,onChange:m})),r.a.createElement(V.a.Group,{controlId:"PlainText"},r.a.createElement(V.a.Label,null,"Content"),r.a.createElement(V.a.Control,{name:"text",as:"textarea",rows:"6",placeholder:"Write your post!",value:c.name,onChange:m})),r.a.createElement(I.a,{variant:"primary",type:"submit"},"Publish Post")))},Q=a(33),X=a.n(Q);var Z=function(e){var t=e.post,a=t.title,n=t.name,l=t.text,c=t.date,s=t.likes,m=t.comments,E=t._id,b=t.user,f=e.currUser,v=Object(o.b)();return r.a.createElement(O.a,{className:"mt-3"},r.a.createElement(R.a,{style:{width:"18rem"}},r.a.createElement(R.a.Body,null,r.a.createElement(R.a.Title,null,a),r.a.createElement(R.a.Title,null,r.a.createElement("p",null,"Author: ",n)),r.a.createElement(R.a.Subtitle,{className:"mb-2 text-muted"},r.a.createElement(X.a,{format:"YYYY/MM/DD"},c)),r.a.createElement(R.a.Text,null,l),r.a.createElement(R.a.Text,null,r.a.createElement(T.a,{icon:"heart",className:"mr-1",style:{cursor:"pointer"},onClick:function(){return v((e=E,function(){var t=Object(i.a)(u.a.mark((function t(a){var n,r;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n={headers:{"Content-Type":"application/json"}},t.prev=1,t.next=4,p.a.put("/api/posts/like/".concat(e),n);case 4:r=t.sent,a({type:"UPDATE_LIKES",payload:{postId:e,likes:r.data.post.likes}}),a(d(r.data.msg,"success")),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(1),a({type:"POST_ERROR",payload:{msg:t.t0.response.statusText,status:t.t0.response.status}});case 12:case"end":return t.stop()}}),t,null,[[1,9]])})));return function(e){return t.apply(this,arguments)}}()));var e}}),s.length>0&&s.length),r.a.createElement(R.a.Text,null,r.a.createElement(T.a,{icon:"comment",className:"mr-1"}),m.length>0&&m.length),r.a.createElement(h.b,{to:"/post/".concat(E)},r.a.createElement(I.a,null,"Discussion")),f&&b===f._id&&r.a.createElement(I.a,{className:"ml-2",variant:"danger",onClick:function(){return v((e=E,function(){var t=Object(i.a)(u.a.mark((function t(a){return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,p.a.delete("/api/posts/".concat(e));case 3:a({type:"DELETE_POST",payload:e}),a(d("Post deleted!","success")),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),console.log(t.t0.response);case 10:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(e){return t.apply(this,arguments)}}()));var e}},"Delete"))))};var $=function(){var e=Object(o.b)();Object(n.useEffect)((function(){e(function(){var e=Object(i.a)(u.a.mark((function e(t){var a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,p.a.get("/api/posts");case 3:a=e.sent,t({type:"GET_POSTS",payload:a.data}),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),t({type:"POST_ERROR",payload:{msg:e.t0.response.statusText,status:e.t0.response.status}});case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}())}),[e]);var t=Object(o.c)((function(e){return e.post})),a=Object(o.c)((function(e){return e.authUser.user}));return r.a.createElement(O.a,null,!t.posts&&t.loading?r.a.createElement(A,null):t.posts.length>0?r.a.createElement(n.Fragment,null,t.posts.map((function(e){return r.a.createElement(Z,{post:e,currUser:a})}))):r.a.createElement("h4",null,"No posts found :("))};var ee=function(e){var t=e.comment,a=e.postId,n=Object(o.b)(),l=Object(o.c)((function(e){return e.authUser.user}));return r.a.createElement(O.a,{className:"mt-2 w-25",style:{backgroundColor:"lightblue"}},r.a.createElement("img",{src:t.avatar,style:{width:"40px",height:"40px"},alt:"comment-poster"}),r.a.createElement("p",null,"By: ",t.name),r.a.createElement("p",null,"Posted on: ",r.a.createElement(X.a,{format:"YYYY/MM/DD"},t.date)),r.a.createElement("p",null,t.text),l&&t.user===l._id&&r.a.createElement(I.a,{variant:"danger",className:"mb-2",onClick:function(){return n(function(e,t){return function(){var a=Object(i.a)(u.a.mark((function a(n){var r;return u.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,p.a.delete("/api/posts/comment/".concat(e,"/").concat(t));case 3:r=a.sent,n({type:"DELETE_COMMENT",payload:r.data}),n(d("Comment deleted!","success")),a.next=11;break;case 8:a.prev=8,a.t0=a.catch(0),n({type:"POST_ERROR",payload:{msg:a.t0.response.statusText,status:a.t0.response.status}});case 11:case"end":return a.stop()}}),a,null,[[0,8]])})));return function(e){return a.apply(this,arguments)}}()}(a,t._id))}},"Delete Comment"))};var te=function(e){var t=e.postId,a=Object(o.b)(),l=Object(n.useState)({}),c=Object(K.a)(l,2),s=c[0],m=c[1];return r.a.createElement(O.a,null,r.a.createElement(V.a,{onSubmit:function(e){e.preventDefault(),m({}),a(function(e,t){return function(){var a=Object(i.a)(u.a.mark((function a(n){var r,l;return u.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return r={headers:{"Content-Type":"application/json"}},a.prev=1,a.next=4,p.a.post("/api/posts/comment/".concat(e),t,r);case 4:l=a.sent,n({type:"ADD_COMMENT",payload:l.data}),n(d("Comment added!","success")),a.next=12;break;case 9:a.prev=9,a.t0=a.catch(1),n({type:"POST_ERROR",payload:{msg:a.t0.response.statusText,status:a.t0.response.status}});case 12:case"end":return a.stop()}}),a,null,[[1,9]])})));return function(e){return a.apply(this,arguments)}}()}(t,s))}},r.a.createElement(V.a.Group,{controlId:"PlainText"},r.a.createElement(V.a.Label,null,"Leave A Comment"),r.a.createElement(V.a.Control,{name:"text",as:"textarea",rows:"3",placeholder:"Your comment",value:s.name,onChange:function(e){m(Object(J.a)(Object(J.a)({},s),{},Object(H.a)({},e.target.name,e.target.value)))}})),r.a.createElement(I.a,{variant:"primary",type:"submit"},"Leave Comment")))};function ae(){var e=Object(o.b)(),t=Object(v.h)();Object(n.useEffect)((function(){var a;e((a=t.id,function(){var e=Object(i.a)(u.a.mark((function e(t){var n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,p.a.get("/api/posts/".concat(a));case 3:n=e.sent,t({type:"GET_POST",payload:n.data}),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}()))}),[e,t.id]);var a=Object(o.c)((function(e){return e.post}));return r.a.createElement(O.a,{fluid:!0,className:"text-left"},!a.post||a.loading?r.a.createElement(A,null):r.a.createElement(n.Fragment,null,r.a.createElement(O.a,{className:"text-center"},r.a.createElement("h3",null,a.post.title),r.a.createElement("p",null,"Author: ",a.post.name),r.a.createElement("p",null,"Posted On: ",r.a.createElement(X.a,{format:"YYYY/MM/DD"},a.post.date))),r.a.createElement(O.a,{fluid:!0,className:"mt-4 text-center"},a.post.text),r.a.createElement(O.a,{fluid:!0,className:"text-left"},a.post.comments.length>0&&a.post.comments.map((function(e){return r.a.createElement(ee,{key:e._id,comment:e,postId:a.post._id})}))),r.a.createElement(O.a,{className:"mt-3 w-50"},r.a.createElement(U.a,null,r.a.createElement(I.a,null,"Like")),r.a.createElement(U.a,{className:"mt-3"},r.a.createElement(te,{postId:a.post._id})))))}function ne(){var e=Object(n.useState)({name:"",email:"",password:"",password2:""}),t=Object(K.a)(e,2),a=t[0],l=t[1],c=Object(o.b)();if(Object(o.c)((function(e){return e.authUser.isAuthenticated})))return r.a.createElement(v.a,{to:"/dashboard"});function s(e){l(Object(J.a)(Object(J.a)({},a),{},Object(H.a)({},e.target.name,e.target.value)))}return r.a.createElement(O.a,null,r.a.createElement(V.a,{onSubmit:function(e){e.preventDefault(),a.password!==a.password2&&c(d("Passwords do not match!","danger")),c(function(e){var t=e.name,a=e.email,n=e.password;return function(){var e=Object(i.a)(u.a.mark((function e(r){var l,c,o;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return l={headers:{"Content-type":"application/json"}},c=JSON.stringify({name:t,email:a,password:n}),e.prev=2,e.next=5,p.a.post("/api/users",c,l);case 5:o=e.sent,r({type:"REGISTER_SUCCESS",payload:o.data}),e.next=15;break;case 9:e.prev=9,e.t0=e.catch(2),r({type:"REGISTER_FAILED"}),e.t0.response.data.errors.forEach((function(e){return r(d(e.msg,"danger"))})),console.log(e.t0.message);case 15:case"end":return e.stop()}}),e,null,[[2,9]])})));return function(t){return e.apply(this,arguments)}}()}(a))}},r.a.createElement(V.a.Group,{controlId:"name"},r.a.createElement(V.a.Label,null,"Name"),r.a.createElement(V.a.Control,{name:"name",type:"text",placeholder:"Enter your name",value:a.name,onChange:s,required:!0})),r.a.createElement(V.a.Group,{controlId:"formBasicEmail"},r.a.createElement(V.a.Label,null,"Email address"),r.a.createElement(V.a.Control,{name:"email",type:"email",placeholder:"Enter email",value:a.email,onChange:s,required:!0}),r.a.createElement(V.a.Text,{className:"text-muted"},"We'll never share your email with anyone else.")),r.a.createElement(V.a.Group,{controlId:"formBasicPassword"},r.a.createElement(V.a.Label,null,"Password"),r.a.createElement(V.a.Control,{name:"password",type:"password",placeholder:"Password",value:a.password,onChange:s,required:!0})),r.a.createElement(V.a.Group,{controlId:"formBasicPasswordRepeat"},r.a.createElement(V.a.Label,null,"Confirm Password"),r.a.createElement(V.a.Control,{name:"password2",type:"password",placeholder:"Comfirm password",value:a.password2,onChange:s,required:!0})),r.a.createElement(I.a,{variant:"primary",type:"submit"},"Register")))}var re=function(){var e=Object(n.useState)({email:"",password:""}),t=Object(K.a)(e,2),a=t[0],l=t[1],c=Object(o.b)();if(Object(o.c)((function(e){return e.authUser.isAuthenticated})))return r.a.createElement(v.a,{to:"/dashboard"});function s(e){l(Object(J.a)(Object(J.a)({},a),{},Object(H.a)({},e.target.name,e.target.value)))}function m(){return(m=Object(i.a)(u.a.mark((function e(t){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.preventDefault(),c(f(a));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return r.a.createElement(O.a,null,r.a.createElement(V.a,{onSubmit:function(e){return m.apply(this,arguments)}},r.a.createElement(V.a.Group,{controlId:"formBasicEmail"},r.a.createElement(V.a.Label,null,"Email address"),r.a.createElement(V.a.Control,{name:"email",type:"email",placeholder:"Enter email",value:a.email,onChange:s}),r.a.createElement(V.a.Text,{className:"text-muted"},"We'll never share your email with anyone else.")),r.a.createElement(V.a.Group,{controlId:"formBasicPassword"},r.a.createElement(V.a.Label,null,"Password"),r.a.createElement(V.a.Control,{name:"password",type:"password",placeholder:"Password",value:a.password,onChange:s})),r.a.createElement(I.a,{variant:"primary",type:"submit"},"Log In")),r.a.createElement(h.b,{to:"/register"},r.a.createElement(I.a,{variant:"secondary mt-3"},"Sign Up")))},le=a(81);var ce=function(e){var t=e.alerts,a=Object(o.b)();return t.length>0&&t.map((function(e,t){return r.a.createElement(le.a,{key:t,variant:e.type,onClose:function(){return a({type:"RESET_ALERT",payload:{id:e.id}})},dismissible:!0},e.msg)}))};var oe=function(){return r.a.createElement(O.a,{className:"mt-3 mb-3"},r.a.createElement(h.b,{to:"/library-add"},r.a.createElement(I.a,{className:"mr-3"},"Edit Your Library")),r.a.createElement(h.b,{to:"/create-post"},r.a.createElement(I.a,{className:"mr-3"},"Publish a Post")))};var se=function(){var e=Object(o.b)();Object(n.useEffect)((function(){e(L())}),[e]);var t=Object(o.c)((function(e){return e.authUser.user})),a=Object(o.c)((function(e){return e.profile}));return r.a.createElement(O.a,null,null==a.profile&&a.loading?r.a.createElement(A,null):r.a.createElement(n.Fragment,null,r.a.createElement("h3",null,"User Dashboard"),r.a.createElement("h2",null,"Hello ",t&&t.name.split(" ")[0]),r.a.createElement(n.Fragment,null,r.a.createElement(oe,null)),r.a.createElement(O.a,null,r.a.createElement(h.b,{to:"/edit-profile"},r.a.createElement(I.a,null,"Edit Profile"))),r.a.createElement(n.Fragment,null,r.a.createElement(W,{showDel:!0})),null==a.profile&&!a.loading&&r.a.createElement(O.a,{className:"mt-5"},r.a.createElement("h4",null,"Looks like you have not created a profile yet!"),r.a.createElement(h.b,{to:"/create-profile"},r.a.createElement(I.a,{className:"mt-3"},"Create Profile")))))};var ue=function(){var e=Object(o.b)(),t=Object(o.c)((function(e){return e.profile.profile})),a=Object(o.c)((function(e){return e.profile.loading}));Object(n.useEffect)((function(){e(L())}),[e]);var l=Object(n.useState)({}),c=Object(K.a)(l,2),s=c[0],u=c[1];Object(n.useEffect)((function(){s.name=!a&&t.name?t.name:"",s.bio=!a&&t.bio?t.bio:"",s.language=!a&&t.language?t.language:"",s.company=!a&&t.company?t.company:"",s.website=!a&&t.website?t.website:"",s.location=!a&&t.location?t.location:"",t.social&&(s.youtube=!a&&t.social.youtube?t.social.youtube:"",s.twitter=!a&&t.social.twitter?t.social.twitter:"",s.linkedin=!a&&t.social.linkedin?t.social.linkedin:"",s.instagram=!a&&t.social.instagram?t.social.instagram:"")}),[t,a]);var i=Object(v.g)();function m(e){u(Object(J.a)(Object(J.a)({},s),{},Object(H.a)({},e.target.name,e.target.value)))}return r.a.createElement(O.a,{className:"mb-3"},r.a.createElement(V.a,{onSubmit:function(t){t.preventDefault(),e(w(s,i,!0))}},r.a.createElement(V.a.Group,{controlId:"PlainText"},r.a.createElement(V.a.Label,null,"Name"),r.a.createElement(V.a.Control,{name:"name",type:"text",placeholder:"Enter your name",value:s.name,onChange:m})),r.a.createElement(V.a.Group,{controlId:"PlainText"},r.a.createElement(V.a.Label,null,"Bio"),r.a.createElement(V.a.Control,{name:"bio",as:"textarea",rows:"3",placeholder:"A little about yourself!",value:s.bio,onChange:m})),r.a.createElement(V.a.Group,{controlId:"PlainText"},r.a.createElement(V.a.Label,null,"Language"),r.a.createElement(V.a.Control,{name:"language",type:"text",placeholder:"Your language",value:s.language,onChange:m})),r.a.createElement(V.a.Group,{controlId:"PlainText"},r.a.createElement(V.a.Label,null,"Company"),r.a.createElement(V.a.Control,{name:"company",type:"text",placeholder:"Company",value:s.company,onChange:m})),r.a.createElement(V.a.Group,{controlId:"PlainText"},r.a.createElement(V.a.Label,null,"Website"),r.a.createElement(V.a.Control,{name:"website",type:"text",placeholder:"Website",value:s.website,onChange:m})),r.a.createElement(V.a.Group,{controlId:"PlainText"},r.a.createElement(V.a.Label,null,"Location"),r.a.createElement(V.a.Control,{name:"location",type:"text",placeholder:"Location",value:s.location,onChange:m})),r.a.createElement(O.a,null,r.a.createElement("h3",null,"Social Links"),r.a.createElement(V.a.Group,{controlId:"PlainText"},r.a.createElement(V.a.Label,null,"Youtube"),r.a.createElement(V.a.Control,{name:"youtube",type:"text",placeholder:"Youtube channel link",value:s.youtube,onChange:m})),r.a.createElement(V.a.Group,{controlId:"PlainText"},r.a.createElement(V.a.Label,null,"Twitter"),r.a.createElement(V.a.Control,{name:"twitter",type:"text",placeholder:"Twitter link",value:s.twitter,onChange:m})),r.a.createElement(V.a.Group,{controlId:"PlainText"},r.a.createElement(V.a.Label,null,"LinkedIn"),r.a.createElement(V.a.Control,{name:"linkedin",type:"text",placeholder:"LinkedIn profile link",value:s.linkedIn,onChange:m})),r.a.createElement(V.a.Group,{controlId:"PlainText"},r.a.createElement(V.a.Label,null,"Instagram"),r.a.createElement(V.a.Control,{name:"instagram",type:"text",placeholder:"Insta profile link",value:s.instagram,onChange:m}))),r.a.createElement(I.a,{variant:"primary",type:"submit"},"Update Profile"),r.a.createElement(h.b,{to:"/dashboard"},r.a.createElement(I.a,null,"Back to Dashboard"))))};var ie=function(){var e=Object(o.b)(),t=Object(n.useState)({}),a=Object(K.a)(t,2),l=a[0],c=a[1],s=Object(v.g)();function u(e){c(Object(J.a)(Object(J.a)({},l),{},Object(H.a)({},e.target.name,e.target.value)))}return r.a.createElement(O.a,{className:"mb-3"},r.a.createElement(V.a,{onSubmit:function(t){t.preventDefault(),e(w(l,s))}},r.a.createElement(V.a.Group,{controlId:"PlainText"},r.a.createElement(V.a.Label,null,"Name"),r.a.createElement(V.a.Control,{name:"name",type:"text",placeholder:"Enter your name",value:l.name,onChange:u})),r.a.createElement(V.a.Group,{controlId:"PlainText"},r.a.createElement(V.a.Label,null,"Bio"),r.a.createElement(V.a.Control,{name:"bio",as:"textarea",rows:"3",placeholder:"A little about yourself!",value:l.bio,onChange:u})),r.a.createElement(V.a.Group,{controlId:"PlainText"},r.a.createElement(V.a.Label,null,"Language"),r.a.createElement(V.a.Control,{name:"language",type:"text",placeholder:"Your language",value:l.language,onChange:u})),r.a.createElement(V.a.Group,{controlId:"PlainText"},r.a.createElement(V.a.Label,null,"Company"),r.a.createElement(V.a.Control,{name:"company",type:"text",placeholder:"Company",value:l.company,onChange:u})),r.a.createElement(V.a.Group,{controlId:"PlainText"},r.a.createElement(V.a.Label,null,"Website"),r.a.createElement(V.a.Control,{name:"website",type:"text",placeholder:"Website",value:l.website,onChange:u})),r.a.createElement(V.a.Group,{controlId:"PlainText"},r.a.createElement(V.a.Label,null,"Location"),r.a.createElement(V.a.Control,{name:"location",type:"text",placeholder:"Location",value:l.location,onChange:u})),r.a.createElement(O.a,null,r.a.createElement("h3",null,"Social Links"),r.a.createElement(V.a.Group,{controlId:"PlainText"},r.a.createElement(V.a.Label,null,"Youtube"),r.a.createElement(V.a.Control,{name:"youtube",type:"text",placeholder:"Youtube channel link",value:l.youtube,onChange:u})),r.a.createElement(V.a.Group,{controlId:"PlainText"},r.a.createElement(V.a.Label,null,"Twitter"),r.a.createElement(V.a.Control,{name:"twitter",type:"text",placeholder:"Twitter link",value:l.twitter,onChange:u})),r.a.createElement(V.a.Group,{controlId:"PlainText"},r.a.createElement(V.a.Label,null,"LinkedIn"),r.a.createElement(V.a.Control,{name:"linkedin",type:"text",placeholder:"LinkedIn profile link",value:l.linkedIn,onChange:u})),r.a.createElement(V.a.Group,{controlId:"PlainText"},r.a.createElement(V.a.Label,null,"Instagram"),r.a.createElement(V.a.Control,{name:"instagram",type:"text",placeholder:"Insta profile link",value:l.instagram,onChange:u}))),r.a.createElement(I.a,{variant:"primary",type:"submit"},"Create Profile")))};var me=function(){var e=Object(o.b)(),t=Object(n.useState)({}),a=Object(K.a)(t,2),l=a[0],c=a[1];function s(e){c(Object(J.a)(Object(J.a)({},l),{},Object(H.a)({},e.target.name,e.target.value)))}return r.a.createElement(O.a,null,r.a.createElement(V.a,{onSubmit:function(t){var a;t.preventDefault(),e((a=l,function(){var e=Object(i.a)(u.a.mark((function e(t){var n,r,l;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n={headers:{"Content-Type":"application/json"}},e.next=4,p.a.put("/api/profile/library",a,n);case 4:r=e.sent,t({type:"UPDATE_LIBRARY",payload:r.data}),t(d("Library updated!","success")),e.next=15;break;case 10:e.prev=10,e.t0=e.catch(0),t({type:"PROFILE_ERROR",payload:{msg:e.t0.response.statusText,status:e.t0.response.status}}),(l=e.t0.response.data.errors)&&(Array.isArray(l)?l.forEach((function(e){return t(d(e.msg,"danger"))})):t(d(l.msg,"danger")));case 15:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t){return e.apply(this,arguments)}}()))}},r.a.createElement(V.a.Group,{controlId:"PlainText"},r.a.createElement(V.a.Label,null,"Title"),r.a.createElement(V.a.Control,{name:"title",type:"text",placeholder:"Book title",value:l.title,onChange:s})),r.a.createElement(V.a.Group,{controlId:"PlainText"},r.a.createElement(V.a.Label,null,"Author"),r.a.createElement(V.a.Control,{name:"author",type:"text",placeholder:"Author",value:l.author,onChange:s})),r.a.createElement(V.a.Group,{controlId:"PlainText"},r.a.createElement(V.a.Label,null,"Year"),r.a.createElement(V.a.Control,{name:"year",type:"text",placeholder:"Year",value:l.year,onChange:s})),r.a.createElement(V.a.Group,{controlId:"PlainText"},r.a.createElement(V.a.Label,null,"Rating ( 1- 5)"),r.a.createElement(V.a.Control,{name:"rating",type:"number",placeholder:"5",value:l.rating,onChange:s})),r.a.createElement(V.a.Group,{controlId:"PlainText"},r.a.createElement(V.a.Label,null,"Comments"),r.a.createElement(V.a.Control,{name:"comments",as:"textarea",rows:"3",placeholder:"Comments",value:l.comments,onChange:s})),r.a.createElement(I.a,{type:"submit"},"Add To My Library")),r.a.createElement(h.b,{to:"/dashboard"},r.a.createElement(I.a,{className:"mt-3"},"Back to Dashboard")))},pe=a(38),Ee=a(78),de=a(45);pe.b.add(Ee.a,de.c,de.b,de.a,de.d);var be=function(){var e=Object(o.c)((function(e){return e.alerts})),t=Object(o.b)();return Object(n.useEffect)((function(){t(b())}),[t]),r.a.createElement(n.Fragment,null,r.a.createElement(h.a,null,r.a.createElement(k,null),r.a.createElement(O.a,{fluid:!0},r.a.createElement(ce,{alerts:e}),r.a.createElement(v.d,null,r.a.createElement(v.b,{path:"/",exact:!0},r.a.createElement(C,null)),r.a.createElement(v.b,{path:"/login"},r.a.createElement(re,null)),r.a.createElement(v.b,{path:"/register"},r.a.createElement(ne,null)),r.a.createElement(v.b,{path:"/profiles"},r.a.createElement(G,null)),r.a.createElement(v.b,{path:"/user-profile/:id"},r.a.createElement(q,null)),r.a.createElement(v.b,{path:"/posts"},r.a.createElement($,null)),r.a.createElement(v.b,{path:"/post/:id"},r.a.createElement(ae,null)),r.a.createElement(g,{path:"/dashboard"},r.a.createElement(se,null)),r.a.createElement(g,{path:"/create-profile"},r.a.createElement(ie,null)),r.a.createElement(g,{path:"/edit-profile"},r.a.createElement(ue,null)),r.a.createElement(g,{path:"/library-add"},r.a.createElement(me,null)),r.a.createElement(g,{path:"/create-post"},r.a.createElement(z,null))))))},fe=a(28),he=a(79),ve=a(80),ye=a(56),ge=[],Oe={token:localStorage.getItem("token"),isAuthenticated:null,loading:!0,user:null},je={profile:null,profiles:[],library:[],loading:!0,error:{}},xe={post:null,posts:[],loading:!0,error:{}},Te=Object(fe.combineReducers)({alerts:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ge,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_ALERT":return[].concat(Object(ye.a)(e),[t.payload]);case"RESET_ALERT":return e.filter((function(e){return e.id!==t.payload.id}));default:return e}},authUser:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Oe,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"LOGIN_SUCCESS":case"REGISTER_SUCCESS":return localStorage.setItem("token",t.payload.token),Object(J.a)(Object(J.a)(Object(J.a)({},e),t.payload),{},{isAuthenticated:!0,loading:!1});case"USER_LOADED":return localStorage.setItem("token",localStorage.token),Object(J.a)(Object(J.a)(Object(J.a)({},e),t.payload),{},{isAuthenticated:!0,loading:!1});case"REGISTER_FAILED":case"AUTH_ERROR":case"LOGOUT_USER":case"LOGIN_FAILED":case"ACCOUNT DELETED":return localStorage.removeItem("token"),Object(J.a)(Object(J.a)({},e),{},{user:null,token:null,isAuthenticated:!1,loading:!1});default:return e}},profile:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:je,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"GET_PROFILE":return Object(J.a)(Object(J.a)({},e),{},{profile:t.payload,library:t.payload.library,loading:!1,error:{}});case"GET_ALL_PROFILES":return Object(J.a)(Object(J.a)({},e),{},{profiles:t.payload,loading:!1,error:{}});case"UPDATE_LIBRARY":return Object(J.a)(Object(J.a)({},e),{},{library:t.payload,loading:!1,error:{}});case"PROFILE_ERROR":return Object(J.a)(Object(J.a)({},e),{},{profile:null,profiles:[],library:[],loading:!1,error:t.payload.error});case"CLEAR_PROFILE":return Object(J.a)(Object(J.a)({},e),{},{profile:null,profiles:[],library:[],loading:!1});default:return e}},post:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:xe,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"GET_POST":return Object(J.a)(Object(J.a)({},e),{},{post:t.payload,loading:!1});case"GET_POSTS":return{posts:t.payload.reverse(),loading:!1};case"CLEAR-POST":return{post:null,posts:[],loading:!0,error:{}};case"UPDATE_LIKES":return Object(J.a)(Object(J.a)({},e),{},{posts:e.posts.map((function(e){return e._id===t.payload.postId?Object(J.a)(Object(J.a)({},e),{},{likes:t.payload.likes}):e})),loading:!1});case"ADD_POST":return Object(J.a)(Object(J.a)({},e),{},{post:t.payload,posts:[t.payload].concat(Object(ye.a)(e.posts)),loading:!1});case"DELETE_POST":return Object(J.a)(Object(J.a)({},e),{},{posts:e.posts.filter((function(e){return e._id!==t.payload})),loading:!1});case"ADD_COMMENT":return Object(J.a)(Object(J.a)({},e),{},{post:Object(J.a)(Object(J.a)({},e.post),{},{comments:t.payload})});case"DELETE_COMMENT":return Object(J.a)(Object(J.a)({},e),{},{post:Object(J.a)(Object(J.a)({},e.post),{},{comments:e.post.comments.filter((function(e){return e._id!==t.payload}))})});case"POST_ERROR":return{post:null,posts:[],loading:!1,error:t.payload};default:return e}}}),ke=[ve.a],Ce=Object(fe.createStore)(Te,{},Object(he.composeWithDevTools)(fe.applyMiddleware.apply(void 0,ke)));c.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(o.a,{store:Ce},r.a.createElement(be,null))),document.getElementById("root"))},83:function(e,t,a){e.exports=a(116)}},[[83,1,2]]]);
//# sourceMappingURL=main.ec0a65e2.chunk.js.map